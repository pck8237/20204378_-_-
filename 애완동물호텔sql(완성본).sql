use 애완동물호텔;

-- 제휴업체 테이블 생성
CREATE TABLE 제휴업체 (
업체ID INTEGER NOT NULL,
업체이름 VARCHAR(50) NOT NULL,
할인율 INTEGER NOT NULL,
PRIMARY KEY(업체ID));

-- 동물병원 테이블 생성
CREATE TABLE 동물병원(
병원ID INTEGER NOT NULL,
병원이름 VARCHAR(50) NOT NULL,
위치 VARCHAR(30) NOT NULL,
PRIMARY KEY(병원ID));

-- 후원단체 테이블 생성
CREATE TABLE 후원단체(
단체ID INTEGER NOT NULL,
단체이름 VARCHAR(50) NOT NULL,
후원금 integer,
PRIMARY KEY(단체ID));

-- 지점 테이블 생성
CREATE TABLE 지점(
지점번호 INTEGER NOT NULL,
지점이름 VARCHAR(50) NOT NULL,
위치 VARCHAR(30) NOT NULL,
제휴업체ID INTEGER,
후원단체ID INTEGER,
동물병원ID INTEGER,
PRIMARY KEY(지점번호),
FOREIGN KEY(제휴업체ID) REFERENCES 제휴업체(업체ID),
FOREIGN KEY(후원단체ID) REFERENCES 후원단체(단체ID),
FOREIGN KEY(동물병원ID) REFERENCES 동물병원(병원ID));

-- 점원 테이블 생성
CREATE TABLE 점원(
점원ID INTEGER NOT NULL,
지점번호 INTEGER NOT NULL,
이름 VARCHAR(30) NOT NULL,
전화번호 VARCHAR(20) NOT NULL,
근무요일 VARCHAR(20) NOT NULL,
근무시간대 VARCHAR(20) NOT NULL,
PRIMARY KEY(점원ID),
FOREIGN KEY(지점번호) REFERENCES 지점(지점번호));

-- 고객 테이블 생성
CREATE TABLE 고객(
고객ID INTEGER NOT NULL,
성명 VARCHAR(30) NOT NULL,
전화번호 VARCHAR(20) NOT NULL,
주소 VARCHAR(50) NOT NULL,
지점번호 INTEGER NOT NULL,
PRIMARY KEY(고객ID),
FOREIGN KEY(지점번호) REFERENCES 지점(지점번호));

-- 반려동물 테이블 생성
CREATE TABLE 반려동물(
반려동물ID INTEGER NOT NULL,
고객ID INTEGER NOT NULL,
펫이름 VARCHAR(30) NOT NULL,
종류 VARCHAR(20) NOT NULL,
PRIMARY KEY(반려동물ID),
FOREIGN KEY(고객ID) REFERENCES 고객(고객ID),
CONSTRAINT dc_ck CHECK (종류 = '개' OR 종류 = '고양이'));

-- 객실 테이블 생성
CREATE TABLE 객실(
객실번호 INTEGER NOT NULL,
객실등급 INTEGER NOT NULL,
객실가격 INTEGER NOT NULL,
지점번호 INTEGER NOT NULL,
PRIMARY KEY(객실번호, 지점번호),
FOREIGN KEY(지점번호) REFERENCES 지점(지점번호));

-- 예약 테이블 생성
CREATE TABLE 예약(
예약번호 INTEGER NOT NULL,
고객ID INTEGER NOT NULL,
반려동물ID INTEGER NOT NULL,
객실번호 INTEGER NOT NULL,
지점번호 INTEGER NOT NULL,
입실날짜 DATETIME NOT NULL,
퇴실날짜 DATETIME NOT NULL,
PRIMARY KEY(예약번호),
FOREIGN KEY(고객ID) REFERENCES 고객(고객ID),
FOREIGN KEY(반려동물ID) REFERENCES 반려동물(반려동물ID),
FOREIGN KEY(객실번호) REFERENCES 객실(객실번호),
FOREIGN KEY(지점번호) REFERENCES 지점(지점번호));

-- 리뷰 테이블 생성
CREATE TABLE 리뷰 (
리뷰ID INTEGER NOT NULL,
지점번호 INTEGER NOT NULL,
고객ID INTEGER NOT NULL,
후기 VARCHAR(100),
별점 INTEGER NOT NULL,
PRIMARY KEY (리뷰ID),
FOREIGN KEY (지점번호) REFERENCES 지점(지점번호),
FOREIGN KEY (고객ID) REFERENCES 고객(고객ID),
CONSTRAINT score_ck CHECK (별점 <= 5.0)
);

-- 올바른 데이터 삽입을 위한 저장 프로시저 설정
DELIMITER //

CREATE PROCEDURE InsertReservation (
    IN p_예약번호 INT,
    IN p_고객ID INT,
    IN p_반려동물ID INT,
    IN p_객실번호 INT,
    IN p_지점번호 INT,
    IN p_입실날짜 DATE,
    IN p_퇴실날짜 DATE
)
BEGIN
    DECLARE valid_pet_owner INT;
    DECLARE valid_room INT;
    DECLARE overlapping_reservations INT;

    -- 고객ID와 반려동물ID의 일치 여부 확인
    SELECT COUNT(*) INTO valid_pet_owner
    FROM 반려동물
    WHERE 반려동물.반려동물ID = p_반려동물ID AND 반려동물.고객ID = p_고객ID;

    -- 객실번호와 지점번호의 유효성 확인
    SELECT COUNT(*) INTO valid_room
    FROM 객실
    WHERE 객실.객실번호 = p_객실번호 AND 객실.지점번호 = p_지점번호;

    -- 객실이 이미 예약된 기간인지 확인
    SELECT COUNT(*) INTO overlapping_reservations
    FROM 예약
    WHERE 객실번호 = p_객실번호 AND 지점번호 = p_지점번호
    AND (
        (p_입실날짜 BETWEEN 입실날짜 AND 퇴실날짜) OR
        (p_퇴실날짜 BETWEEN 입실날짜 AND 퇴실날짜) OR
        (입실날짜 BETWEEN p_입실날짜 AND p_퇴실날짜) OR
        (퇴실날짜 BETWEEN p_입실날짜 AND p_퇴실날짜)
    );

    IF valid_pet_owner = 0 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '고객 ID와 반려동물 ID가 일치하지 않습니다.';
    ELSEIF valid_room = 0 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '유효하지 않은 객실번호와 지점번호 조합입니다.';
    ELSEIF overlapping_reservations > 0 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '해당 객실이 이미 사용 중입니다.';
    ELSE
        INSERT INTO 예약 (예약번호, 고객ID, 반려동물ID, 객실번호, 지점번호, 입실날짜, 퇴실날짜)
        VALUES (p_예약번호, p_고객ID, p_반려동물ID, p_객실번호, p_지점번호, p_입실날짜, p_퇴실날짜);
    END IF;
END //

DELIMITER ;

-- 제휴업체 테이블 내 데이터 삽입
INSERT INTO 제휴업체 (업체ID, 업체이름, 할인율) VALUES
(10001, '펫프렌즈', 10),
(10002, '펫파크', 15),
(10003, '해피펫', 5),
(10004, '펫코리아', 12),
(10005, '펫클럽', 8),
(10006, '올펫', 20),
(10007, '펫스토리', 7),
(10008, '펫가든', 9),
(10009, '펫타운', 11),
(10010, '펫앤유', 13),
(10011, '도그플래닛', 6),
(10012, '고양이천국', 14),
(10013, '퍼피라운지', 10),
(10014, '펫빌리지', 18),
(10015, '러브펫', 17),
(10016, '아이펫', 12),
(10017, '강아지세상', 5),
(10018, '펫존', 16),
(10019, '펫월드', 7),
(10020, '펫카페', 20),
(10021, '캣스타그램', 15),
(10022, '펫토피아', 9),
(10023, '펫하우스', 14),
(10024, '도그스퀘어', 10),
(10025, '펫아이랜드', 11),
(10026, '하이펫', 13),
(10027, '펫인사이드', 6),
(10028, '캣토피아', 12),
(10029, '도그랜드', 19),
(10030, '펫소울', 8);

-- 동물병원 테이블 내 데이터 삽입
INSERT INTO 동물병원 (병원ID, 병원이름, 위치) VALUES
(20001, '해피동물병원', '서울특별시 강남구 논현동'),
(20002, '러브펫동물병원', '서울특별시 마포구 서교동'),
(20003, '강아지사랑동물병원', '서울특별시 송파구 잠실동'),
(20004, '우리동물병원', '서울특별시 용산구 이태원동'),
(20005, '펫케어동물병원', '서울특별시 종로구 종로1가'),
(20006, '동물사랑동물병원', '서울특별시 서초구 서초동'),
(20007, '한빛동물병원', '부산광역시 해운대구 우동'),
(20008, '예스동물병원', '부산광역시 수영구 광안동'),
(20009, '아이펫동물병원', '대구광역시 수성구 범어동'),
(20010, '행복한동물병원', '대구광역시 중구 동인동'),
(20011, '초록동물병원', '인천광역시 남동구 구월동'),
(20012, '수호천사동물병원', '인천광역시 연수구 송도동'),
(20013, '맑은눈동물병원', '광주광역시 서구 치평동'),
(20014, '늘푸른동물병원', '대전광역시 서구 둔산동'),
(20015, '아름다운동물병원', '울산광역시 남구 삼산동'),
(20016, '천사동물병원', '경기도 성남시 분당구 정자동'),
(20017, '희망동물병원', '경기도 고양시 일산동구 백석동'),
(20018, '온누리동물병원', '경기도 용인시 기흥구 보정동'),
(20019, '꿈나무동물병원', '경기도 수원시 영통구 영통동'),
(20020, '미소동물병원', '경기도 안양시 동안구 평촌동'),
(20021, '하이펫동물병원', '경상북도 포항시 북구 흥해읍'),
(20022, '베스트동물병원', '경상남도 창원시 성산구 상남동'),
(20023, '캣프렌즈동물병원', '경상남도 진주시 평거동'),
(20024, '건강한동물병원', '전라북도 전주시 완산구 효자동'),
(20025, '퍼피케어동물병원', '전라남도 여수시 웅천동'),
(20026, '도그앤캣동물병원', '강원도 춘천시 퇴계동'),
(20027, '안심동물병원', '충청북도 청주시 상당구 용암동'),
(20028, '행복펫동물병원', '충청남도 천안시 서북구 두정동'),
(20029, '펫스마일동물병원', '제주특별자치도 제주시 연동'),
(20030, '맘편한동물병원', '세종특별자치시 보람동');

-- 후원단체 테이블 내 데이터 삽입
INSERT INTO 후원단체 (단체ID, 단체이름, 후원금) VALUES
(9901, '한국동물보호협회', 1000000),
(9902, '한국유기동물보호소', 850000),
(9903, '서울동물보호연합', 950000),
(9904, '한국동물복지협회', 1100000),
(9905, '애니멀라이프', 750000),
(9906, '동물자유연대', 900000),
(9907, '한국애견협회', 650000),
(9908, '유기동물사랑회', 800000),
(9909, '동물사랑네트워크', 720000),
(9910, '동물구조119', 1000000),
(9911, '동물권행동 카라', 1050000),
(9912, '동물보호시민단체', 930000),
(9913, '생명공감', 870000),
(9914, '유기견사랑쉼터', 670000),
(9915, '반려동물사랑연대', 980000),
(9916, '동물의집', 920000),
(9917, '펫사랑연합', 890000),
(9918, '동물복지연대', 950000),
(9919, '유기묘보호소', 880000),
(9920, '동물사랑실천협회', 1020000),
(9921, '동물구조지원센터', 970000),
(9922, '동물사랑나눔터', 740000),
(9923, '동물보호모임', 960000),
(9924, '애완동물사랑협회', 930000),
(9925, '반려동물복지센터', 900000),
(9926, '길고양이보호연합', 820000),
(9927, '동물사랑회', 870000),
(9928, '동물구조활동본부', 1000000),
(9929, '유기동물후원회', 850000),
(9930, '동물권보호단체', 910000);

-- 지점 테이블 내 데이터 삽입
INSERT INTO 지점 (지점번호, 지점이름, 위치, 제휴업체ID, 후원단체ID, 동물병원ID) VALUES
(101, '펫호텔서울1호점', '서울', 10015, 9908, 20001),
(102, '펫호텔서울2호점', '서울', 10027, 9902, 20001),
(201, '펫호텔부산1호점', '부산', 10003, 9918, 20008),
(202, '펫호텔부산2호점', '부산', NULL, 9916, 20007),
(301, '펫호텔대구1호점', '대구', 10011, 9915, 20010),
(302, '펫호텔대구2호점', '대구', 10023, 9909, 20010),
(401, '펫호텔인천1호점', '인천', 10009, 9907, 20012),
(402, '펫호텔인천2호점', '인천', 10018, NULL, 20012),
(501, '펫호텔광주1호점', '광주', 10022, 9906, 20013),
(502, '펫호텔광주2호점', '광주', NULL, NULL, 20013),
(601, '펫호텔대전1호점', '대전', 10014, 9928, 20014),
(602, '펫호텔대전2호점', '대전', 10006, 9903, NULL),
(701, '펫호텔울산1호점', '울산', 10019, 9902, 20015),
(702, '펫호텔울산2호점', '울산', 10001, 9906, 20015),
(801, '펫호텔세종1호점', '세종', 10029, 9914, 20030),
(802, '펫호텔세종2호점', '세종', 10002, 9915, NULL),
(901, '펫호텔경기1호점', '경기', 10021, NULL, 20018),
(902, '펫호텔경기2호점', '경기', 10012, NULL, 20016),
(1001, '펫호텔강원1호점', '강원', NULL, 9902, 20026),
(1002, '펫호텔강원2호점', '강원', 10004, NULL, NULL),
(1101, '펫호텔충북1호점', '충북', 10008, 9913, 20027),
(1102, '펫호텔충북2호점', '충북', 10017, NULL, NULL),
(1201, '펫호텔충남1호점', '충남', 10024, 9927, 20028),
(1202, '펫호텔충남2호점', '충남', 10030, 9915, NULL),
(1301, '펫호텔전북1호점', '전북', 10020, 9929, 20024),
(1302, '펫호텔전북2호점', '전북', 10005, NULL, 20024),
(1401, '펫호텔전남1호점', '전남', 10028, 9918, 20025),
(1402, '펫호텔전남2호점', '전남', 10016, 9901, 20025),
(1501, '펫호텔경북1호점', '경북', 10013, 9911, 20021),
(1601, '펫호텔경남1호점', '경남', 10026, 9928, 20023);

-- 점원 테이블 내 데이터 삽입
INSERT INTO 점원 (점원ID, 지점번호, 이름, 전화번호, 근무요일, 근무시간대) VALUES
(3001, 901, '김철수', '010-1234-5678', '월,수,금', '09:00-18:00'),
(3002, 1001, '이영희', '010-2345-6789', '화,목,토', '10:00-19:00'),
(3003, 1601, '박민수', '010-3456-7890', '월,화,수', '08:00-17:00'),
(3004, 202, '최수진', '010-4567-8901', '수,목,금', '12:00-21:00'),
(3005, 601, '김지훈', '010-5678-9012', '월,금,토', '11:00-20:00'),
(3006, 801, '정현아', '010-6789-0123', '화,목,일', '13:00-22:00'),
(3007, 101, '한예슬', '010-7890-1234', '월,수,금', '09:00-18:00'),
(3008, 302, '송민준', '010-8901-2345', '화,목,토', '10:00-19:00'),
(3009, 1601, '백민재', '010-9012-3456', '수,금,일', '08:00-17:00'),
(3010, 1501, '윤지우', '010-0123-4567', '월,화,목', '12:00-21:00'),
(3011, 402, '강수지', '010-1234-5678', '수,목,토', '11:00-20:00'),
(3012, 1201, '서현우', '010-2345-6789', '화,금,일', '13:00-22:00'),
(3013, 1501, '문채원', '010-3456-7890', '월,수,금', '09:00-18:00'),
(3014, 401, '조성호', '010-4567-8901', '화,목,토', '10:00-19:00'),
(3015, 502, '임다솜', '010-5678-9012', '월,화,수', '08:00-17:00'),
(3016, 1201, '박서준', '010-6789-0123', '수,목,금', '12:00-21:00'),
(3017, 602, '배수지', '010-7890-1234', '월,금,토', '11:00-20:00'),
(3018, 501, '오준호', '010-8901-2345', '화,목,일', '13:00-22:00'),
(3019, 701, '장예원', '010-9012-3456', '월,수,금', '09:00-18:00'),
(3020, 902, '안효섭', '010-0123-4567', '화,목,토', '10:00-19:00'),
(3021, 601, '김하늘', '010-1234-5678', '수,금,일', '08:00-17:00'),
(3022, 1501, '류준열', '010-2345-6789', '월,화,목', '12:00-21:00'),
(3023, 602, '황민현', '010-3456-7890', '수,목,토', '11:00-20:00'),
(3024, 1401, '공효진', '010-4567-8901', '화,금,일', '13:00-22:00'),
(3025, 1302, '서강준', '010-5678-9012', '월,수,금', '09:00-18:00'),
(3026, 1402, '이다인', '010-6789-0123', '화,목,토', '10:00-19:00'),
(3027, 1102, '이동휘', '010-7890-1234', '월,화,수', '08:00-17:00'),
(3028, 1002, '이성경', '010-8901-2345', '수,목,금', '12:00-21:00'),
(3029, 1301, '남주혁', '010-9012-3456', '월,금,토', '11:00-20:00'),
(3030, 401, '정유미', '010-0123-4567', '화,목,일', '13:00-22:00');

-- 고객 테이블 내 데이터 삽입
INSERT INTO 고객 (고객ID, 성명, 전화번호, 주소, 지점번호) VALUES
(3301, '딩셉션', '010-1234-6789', '인천', 401),
(3302, '얍얍', '010-2345-7890', '전북', 1302),
(3303, '공혁준', '010-3456-8901', '강원', 1001),
(3304, '초승달', '010-4567-9012', '충북', 1101),
(3305, '소풍왔니', '010-5678-0123', '전남', 1402),
(3306, '서나랑', '010-6789-1234', '전북', 1301),
(3307, '서새봄', '010-7890-2345', '전남', 1401),
(3308, '강퀴', '010-8901-3456', '대전', 602),
(3309, '자동', '010-9012-4567', '경북', 1501),
(3310, '이초홍', '010-0123-5678', '대전', 602),
(3311, '백설양', '010-1234-7890', '경기', 902),
(3312, '머독', '010-2345-8901', '울산', 701),
(3313, '갓보기', '010-3456-9012', '광주', 501),
(3314, '신기해', '010-4567-0123', '대전', 602),
(3315, '소밍', '010-5678-1234', '충남', 1201),
(3316, '아카이브', '010-6789-2345', '광주', 502),
(3317, '흐앙', '010-7890-3456', '인천', 402),
(3318, '우왁굳', '010-8901-4567', '경북', 1501),
(3319, '피유', '010-9012-5678', '충남', 1201),
(3320, '한동숙', '010-0123-6789', '인천', 402),
(3321, '연두', '010-9855-2337', '경북', 1501),
(3322, '풍월량', '010-1234-5678', '경남', 1601),
(3323, '스틸로', '010-2345-6789', '대구', 301),
(3324, '견자희', '010-3456-7890', '서울', 101),
(3325, '짬타수아', '010-4567-8901', '세종', 801),
(3326, '개복어', '010-5678-9012', '대전', 601),
(3327, '아이리 칸나', '010-6789-0123', '부산', 202),
(3328, '강지', '010-7890-1234', '경남', 1601),
(3329, '와나나', '010-8901-2345', '강원', 1002),
(3330, '레바', '010-9012-3456', '경기', 901),
(3331, '아야츠노 유니', '010-0123-4567', '부산', 201);

-- 반려동물 테이블 내 데이터 삽입
INSERT INTO 반려동물 (반려동물ID, 고객ID, 펫이름, 종류) VALUES
(3401, 3301, '솔이', '고양이'),
(3402, 3301, '눈이', '고양이'),
(3403, 3302, '첵스', '고양이'),
(3404, 3302, '오즈', '고양이'),
(3405, 3303, '나루', '고양이'),
(3406, 3304, '먼지', '고양이'),
(3407, 3305, '누누', '고양이'),
(3408, 3305, '미미', '고양이'),
(3409, 3306, '렝가', '고양이'),
(3410, 3307, '은돌이', '고양이'),
(3411, 3308, '샴푸', '고양이'),
(3412, 3308, '콩이', '고양이'),
(3413, 3309, '호야', '고양이'),
(3414, 3309, '미야', '고양이'),
(3415, 3310, '코코팜', '고양이'),
(3416, 3311, '아도르', '고양이'),
(3417, 3312, '아이언', '고양이'),
(3418, 3312, '우쥬', '고양이'),
(3419, 3313, '펀치', '고양이'),
(3420, 3314, '모카', '고양이'),
(3421, 3315, '모카', '고양이'),
(3422, 3316, '미오', '고양이'),
(3423, 3316, '줄리', '고양이'),
(3424, 3317, '카노', '개'),
(3425, 3318, '메시', '개'),
(3426, 3319, '마루', '개'),
(3427, 3320, '꾸레', '개'),
(3428, 3321, '루키', '개'),
(3429, 3322, '초롱이', '개'),
(3430, 3323, '금비', '개'),
(3431, 3324, '흑매', '개'),
(3432, 3325, '장군이', '개'),
(3433, 3325, '장모', '개'),
(3434, 3326, '보리', '개'),
(3435, 3327, '제마', '개'),
(3436, 3327, '로하', '고양이'),
(3437, 3327, '미소', '고양이'),
(3438, 3327, '하루', '고양이'),
(3439, 3329, '로건', '고양이'),
(3440, 3329, '꾱꾱', '고양이'),
(3441, 3329, '살구', '고양이'),
(3442, 3329, '깡패', '고양이'),
(3443, 3330, '포로리', '고양이'),
(3444, 3331, '다루', '고양이'),
(3445, 3328, '야몽이', '고양이'),
(3446, 3328, '도담이', '고양이'),
(3447, 3328, '희망이', '개');

-- 객실 테이블 내 데이터 삽입
INSERT INTO 객실 (객실번호, 객실등급, 객실가격, 지점번호) VALUES
(1011, 101, 30000, 1),
(1012, 101, 60000, 2),
(1013, 101, 120000, 3),
(1021, 102, 30000, 1),
(1022, 102, 60000, 2),
(1023, 102, 120000, 3),
(2011, 201, 30000, 1),
(2012, 201, 60000, 2),
(2013, 201, 120000, 3),
(2021, 202, 30000, 1),
(2022, 202, 60000, 2),
(2023, 202, 120000, 3),
(3011, 301, 30000, 1),
(3012, 301, 60000, 2),
(3013, 301, 120000, 3),
(3021, 302, 30000, 1),
(3022, 302, 60000, 2),
(3023, 302, 120000, 3),
(4011, 401, 30000, 1),
(4012, 401, 60000, 2),
(4013, 401, 120000, 3),
(4021, 402, 30000, 1),
(4022, 402, 60000, 2),
(4023, 402, 120000, 3),
(5011, 501, 30000, 1),
(5012, 501, 60000, 2),
(5013, 501, 120000, 3),
(5021, 502, 30000, 1),
(5022, 502, 60000, 2),
(5023, 502, 120000, 3),
(6011, 601, 30000, 1),
(6012, 601, 60000, 2),
(6013, 601, 120000, 3),
(6021, 602, 30000, 1),
(6022, 602, 60000, 2),
(6023, 602, 120000, 3),
(7011, 701, 30000, 1),
(7012, 701, 60000, 2),
(7013, 701, 120000, 3),
(7021, 702, 30000, 1),
(7022, 702, 60000, 2),
(7023, 702, 120000, 3),
(8011, 801, 30000, 1),
(8012, 801, 60000, 2),
(8013, 801, 120000, 3),
(8021, 802, 30000, 1),
(8022, 802, 60000, 2),
(8023, 802, 120000, 3),
(9011, 901, 30000, 1),
(9012, 901, 60000, 2),
(9013, 901, 120000, 3),
(9021, 902, 30000, 1),
(9022, 902, 60000, 2),
(9023, 902, 120000, 3),
(10011, 1001, 30000, 1),
(10012, 1001, 60000, 2),
(10013, 1001, 120000, 3),
(10021, 1002, 30000, 1),
(10022, 1002, 60000, 2),
(10023, 1002, 120000, 3),
(11011, 1101, 30000, 1),
(11012, 1101, 60000, 2),
(11013, 1101, 120000, 3),
(11021, 1102, 30000, 1),
(11022, 1102, 60000, 2),
(11023, 1102, 120000, 3),
(12011, 1201, 30000, 1),
(12012, 1201, 60000, 2),
(12013, 1201, 120000, 3),
(12021, 1202, 30000, 1),
(12022, 1202, 60000, 2),
(12023, 1202, 120000, 3),
(13011, 1301, 30000, 1),
(13012, 1301, 60000, 2),
(13013, 1301, 120000, 3),
(13021, 1302, 30000, 1),
(13022, 1302, 60000, 2),
(13023, 1302, 120000, 3),
(14011, 1401, 30000, 1),
(14012, 1401, 60000, 2),
(14013, 1401, 120000, 3),
(14021, 1402, 30000, 1),
(14022, 1402, 60000, 2),
(14023, 1402, 120000, 3),
(15011, 1501, 30000, 1),
(15012, 1501, 60000, 2),
(15013, 1501, 120000, 3),
(16011, 1601, 30000, 1),
(16012, 1601, 60000, 2),
(16013, 1601, 120000, 3);

-- 예약 테이블 내 데이터 삽입(저장 프로시저 사용)
CALL InsertReservation(1, 3327, 3435, 4021, 402, '2024-06-20 00:00:00', '2024-06-30 00:00:00');
CALL InsertReservation(2, 3327, 3436, 4011, 401, '2024-06-20 00:00:00', '2024-06-30 00:00:00');
CALL InsertReservation(3, 3327, 3437, 4012, 401, '2024-06-20 00:00:00', '2024-06-30 00:00:00');
CALL InsertReservation(4, 3327, 3438, 4013, 401, '2024-06-20 00:00:00', '2024-06-30 00:00:00');
CALL InsertReservation(5, 3331, 3444, 2021, 202, '2024-07-03 00:00:00', '2024-08-12 00:00:00');
CALL InsertReservation(6, 3329, 3439, 6011, 601, '2024-07-01 00:00:00', '2024-07-03 00:00:00');
CALL InsertReservation(7, 3329, 3440, 6012, 601, '2024-07-01 00:00:00', '2024-07-03 00:00:00');
CALL InsertReservation(8, 3329, 3441, 6013, 601, '2024-07-01 00:00:00', '2024-07-03 00:00:00');
CALL InsertReservation(9, 3301, 3402, 4023, 402, '2024-06-21 00:00:00', '2024-06-24 00:00:00');
CALL InsertReservation(10, 3314, 3420, 6022, 602, '2024-06-10 00:00:00', '2024-06-12 00:00:00');
CALL InsertReservation(11, 3318, 3425, 15013, 1501, '2024-06-08 00:00:00', '2024-08-21 00:00:00');
CALL InsertReservation(12, 3324, 3431, 3013, 301, '2024-09-27 00:00:00', '2024-10-05 00:00:00');
CALL InsertReservation(13, 3303, 3405, 10011, 1001, '2024-08-17 00:00:00', '2024-08-18 00:00:00');
CALL InsertReservation(14, 3310, 3415, 6013, 601, '2024-10-01 00:00:00', '2024-10-05 00:00:00');
CALL InsertReservation(15, 3312, 3417, 7023, 702, '2024-06-30 00:00:00', '2024-07-02 00:00:00');
CALL InsertReservation(16, 3312, 3418, 7022, 702, '2024-06-30 00:00:00', '2024-07-10 00:00:00');
CALL InsertReservation(17, 3325, 3432, 8012, 801, '2024-06-06 00:00:00', '2024-06-10 00:00:00');
CALL InsertReservation(18, 3325, 3433, 8011, 801, '2024-06-06 00:00:00', '2024-06-10 00:00:00');
CALL InsertReservation(19, 3328, 3445, 16011, 1601, '2024-06-15 00:00:00', '2024-06-19 00:00:00');
CALL InsertReservation(20, 3328, 3446, 16012, 1601, '2024-06-15 00:00:00', '2024-06-19 00:00:00');
CALL InsertReservation(21, 3328, 3447, 16013, 1601, '2024-06-15 00:00:00', '2024-06-19 00:00:00');
CALL InsertReservation(22, 3308, 3411, 6012, 601, '2024-06-18 00:00:00', '2024-06-20 00:00:00');
CALL InsertReservation(23, 3308, 3412, 6013, 601, '2024-06-18 00:00:00', '2024-06-20 00:00:00');
CALL InsertReservation(24, 3306, 3409, 13012, 1301, '2024-09-05 00:00:00', '2024-09-06 00:00:00');
CALL InsertReservation(25, 3304, 3406, 11011, 1101, '2024-06-11 00:00:00', '2024-06-17 00:00:00');
CALL InsertReservation(26, 3316, 3422, 5022, 502, '2024-07-07 00:00:00', '2024-07-09 00:00:00');
CALL InsertReservation(27, 3316, 3423, 5021, 502, '2024-07-07 00:00:00', '2024-07-09 00:00:00');
CALL InsertReservation(28, 3320, 3427, 4022, 402, '2024-06-11 00:00:00', '2024-06-29 00:00:00');
CALL InsertReservation(29, 3302, 3403, 13022, 1302, '2024-08-07 00:00:00', '2024-08-20 00:00:00');
CALL InsertReservation(30, 3302, 3404, 13023, 1302, '2024-08-07 00:00:00', '2024-08-20 00:00:00');

-- 리뷰 테이블 내 데이터 삽입
INSERT INTO 리뷰 (리뷰ID, 지점번호, 고객ID, 후기, 별점) VALUES
(340001, 402, 3327, '친절하고 편해서 좋았어요.', 4),
(340002, 401, 3327, NULL, 4),
(340003, 401, 3327, NULL, 4),
(340004, 401, 3327, NULL, 4),
(340005, 202, 3331, '별로에요', 2),
(340006, 601, 3329, '근처에 있어서 여행갈 때 맡겨놓기 좋아요', 4),
(340007, 601, 3329, NULL, 4),
(340008, 601, 3329, NULL, 4),
(340009, 402, 3301, '매우 좋았어요', 5),
(340010, 602, 3314, '별로에요', 2),
(340011, 1501, 3318, '그럭저럭이에요', 3),
(340012, 301, 3324, '좋습니다', 3),
(340013, 1001, 3303, '보통...', 3),
(340014, 601, 3310, '좋아요', 3),
(340015, 702, 3312, '또 오고 싶어요', 5),
(340016, 702, 3312, NULL, 5),
(340017, 801, 3325, '그냥 그래요', 3),
(340018, 801, 3325, NULL, 3),
(340019, 1601, 3328, '별로에요', 2),
(340020, 1601, 3328, NULL, 2),
(340021, 1601, 3328, NULL, 2),
(340022, 601, 3308, '매우 좋아요', 4),
(340023, 601, 3308, NULL, 4),
(340024, 1301, 3306, '다시 올 예정이에요', 5),
(340025, 1101, 3304, '매우 별로에요', 1),
(340026, 502, 3316, '별로에요', 2),
(340027, 502, 3316, NULL, 2),
(340028, 402, 3320, '매우 좋아요', 5),
(340029, 1302, 3302, '불쾌해요', 1),
(340030, 1302, 3302, NULL, 1);

-- Renaming(AS)
SELECT 지점번호 AS 지점ID, 지점이름 AS 지점명, 
위치 AS 주소, 제휴업체ID AS 업체ID, 
후원단체ID, 동물병원ID AS 병원ID
FROM 지점
ORDER BY 지점번호;

-- DISTINCT
SELECT DISTINCT 객실가격, 객실등급
FROM 객실;

-- 논리 연산자
SELECT * FROM 지점
WHERE 위치 = '서울' OR 위치 = '경기';

-- BETWEEN A AND B
SELECT * FROM 후원단체
WHERE 후원금 BETWEEN 1000000 AND 1500000;

-- IN
SELECT 병원ID, 병원이름
FROM 동물병원
WHERE 병원ID IN (SELECT 동물병원ID
				FROM 지점
				WHERE 병원ID = 동물병원ID);
                
-- NOT IN
SELECT 병원ID, 병원이름
FROM 동물병원
WHERE 병원ID NOT IN (SELECT 동물병원ID
					FROM 지점
					WHERE 병원ID = 동물병원ID);

-- LIKE
SELECT * FROM 점원
WHERE 이름 LIKE '김%';

-- IS NULL
SELECT * FROM 지점
WHERE 제휴업체ID IS NULL OR 후원단체ID IS NULL OR 동물병원ID IS NULL;

-- IS NOT NULL
SELECT * FROM 리뷰
WHERE 후기 IS NOT NULL;

-- ORDER BY
SELECT 반려동물ID, 펫이름 
FROM 반려동물
ORDER BY 펫이름;

-- Aggregation Function
SELECT SUM(후원금) AS 후원금_총합, AVG(후원금) AS 후원금_평균
FROM 후원단체;

-- GROUP BY
SELECT 지점번호, COUNT(지점번호) AS 이용횟수
FROM 예약
GROUP BY 지점번호;

-- HAVING
SELECT 지점번호, COUNT(지점번호) AS 이용횟수
FROM 예약
GROUP BY 지점번호
HAVING COUNT(지점번호) >= 2;

-- JOIN
SELECT P.반려동물ID, P.펫이름, P.종류, C.고객ID, C.성명, C.전화번호, C.주소, C.지점번호
FROM 반려동물 P INNER JOIN 고객 C
ON P.고객ID = C.고객ID;

-- SUB QUERY(단일)
SELECT * FROM 고객
WHERE 성명 = (SELECT 성명 
			 FROM 고객 
             WHERE 고객ID = 3328);
             
-- SUB QUERY(다중)
SELECT P.펫이름, C.성명, C.지점번호
FROM 반려동물 P INNER JOIN 고객 C
ON P.고객ID = C.고객ID
WHERE P.고객ID = (SELECT 고객ID 
				 FROM 고객 
                 WHERE 성명 = '강지');

